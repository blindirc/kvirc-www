<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KVIrc: KviTheoraEncoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>KviTheoraEncoder Class Reference</h1><!-- doxytag: class="KviTheoraEncoder" -->
<p>An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs an ogg stream.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="kvi__oggtheora_8h_source.html">kvi_oggtheora.h</a>&gt;</code></p>

<p><a href="classKviTheoraEncoder-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a56725c5aab24c94fa2a5abaf9fe91ea7">addTextFrame</a> (unsigned char *textPkt, int textSize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Appends a text frame to the stream.  <a href="#a56725c5aab24c94fa2a5abaf9fe91ea7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a6627b7d647addb450e62159ec9133f75">addVideoFrame</a> (QRgb *rgb32, int videoSize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Appends a video frame to the stream.  <a href="#a6627b7d647addb450e62159ec9133f75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a34f11d76a698aa3e49ac430ee4b45c46">KviTheoraEncoder</a> (<a class="el" href="classKviDataBuffer.html">KviDataBuffer</a> *stream, int iWidth=320, int iHeight=240, int iFpsN=5, int iFpsD=1, int iParN=4, int iParD=3)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs the <a class="el" href="classKviTheoraEncoder.html" title="An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs...">KviTheoraEncoder</a> object.  <a href="#a34f11d76a698aa3e49ac430ee4b45c46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#ae4de3e3a70983788c2ea2c158a061c2f">~KviTheoraEncoder</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys the <a class="el" href="classKviTheoraEncoder.html" title="An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs...">KviTheoraEncoder</a> object.  <a href="#ae4de3e3a70983788c2ea2c158a061c2f"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a65617ada89efd265415dc6345ecaa300">fetch_and_process_video</a> (quint8 *<a class="el" href="classKviTheoraEncoder.html#a75fd39af7de29e87c15707b0a1a41137">videoYuv</a>, ogg_page *videopage, ogg_stream_state *<a class="el" href="classKviTheoraEncoder.html#aabd9a0c1a96191d438c658a2fcfa35c3">to</a>, th_enc_ctx *<a class="el" href="classKviTheoraEncoder.html#a6e9910bca977ab1a9c7bf9d759895875">td</a>, int <a class="el" href="classKviTheoraEncoder.html#a0cfb3a54fadefc689060670bdfb4a5a0">videoflag</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function that processes a video frame to create an ogg page.  <a href="#a65617ada89efd265415dc6345ecaa300"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a82d53fe942ae4651b5dad96dc584cebb">fetch_and_process_video_packet</a> (quint8 *<a class="el" href="classKviTheoraEncoder.html#a75fd39af7de29e87c15707b0a1a41137">videoYuv</a>, th_enc_ctx *<a class="el" href="classKviTheoraEncoder.html#a6e9910bca977ab1a9c7bf9d759895875">td</a>, ogg_packet *<a class="el" href="classKviTheoraEncoder.html#a7100b01d03e7bcef5655625dd37922c2">op</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function that processes a video frame to create an ogg packet.  <a href="#a82d53fe942ae4651b5dad96dc584cebb"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#aa82587d75acf52359ebf4d5505c76917">ilog</a> (unsigned _v)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function used to calculate our granule shift.  <a href="#aa82587d75acf52359ebf4d5505c76917"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a3cbb1bed77ee30e11e506fd716ee835c">frame_state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKviTheoraGeometry.html">KviTheoraGeometry</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a8ccdab367ab5fe20a2f66b4f4c3e1aeb">geometry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKviDataBuffer.html">KviDataBuffer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a2a713d7629a99e252bcf905e8d498439">m_pStream</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ogg_page&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a4a8e670be376825d20aadefc08cc891e">og</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ogg_packet&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a7100b01d03e7bcef5655625dd37922c2">op</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">th_comment&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#aae42ac72960692c4fccd65ee9c777052">tc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">th_enc_ctx *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a6e9910bca977ab1a9c7bf9d759895875">td</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ogg_int64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a7d8156bf62c3bc3b654709b8a2654f45">text_sofar</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#ab43aaf32713b1d15da0a3cfea15a6712">textflag</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">th_info&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a57a089097f96b5c61adef00e178ff567">ti</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ogg_stream_state&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#aabd9a0c1a96191d438c658a2fcfa35c3">to</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a0cfb3a54fadefc689060670bdfb4a5a0">videoflag</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">quint8 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a75fd39af7de29e87c15707b0a1a41137">videoYuv</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#af86d81c5c7650529062dae921233f34e">y4m_aux_buf_read_sz</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a6b34fe3e4315e8ef8c11e352435461d5">y4m_aux_buf_sz</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a2603755ae1d1eaa0f4b5da0d8624f3a9">y4m_dst_buf_read_sz</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a9c4931c305f2c8b15e3bc5bf3489ee05">y4m_dst_buf_sz</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#ac5c8a6b626c3e2ad78f64e80c44a8ee9">yuvframe</a> [3]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ogg_stream_state&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKviTheoraEncoder.html#a6be43b1cf5387b38dc42595e43af4957">zo</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs an ogg stream. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a34f11d76a698aa3e49ac430ee4b45c46"></a><!-- doxytag: member="KviTheoraEncoder::KviTheoraEncoder" ref="a34f11d76a698aa3e49ac430ee4b45c46" args="(KviDataBuffer *stream, int iWidth=320, int iHeight=240, int iFpsN=5, int iFpsD=1, int iParN=4, int iParD=3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KviTheoraEncoder::KviTheoraEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKviDataBuffer.html">KviDataBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iWidth</em> = <code>320</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iHeight</em> = <code>240</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iFpsN</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iFpsD</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iParN</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iParD</em> = <code>3</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs the <a class="el" href="classKviTheoraEncoder.html" title="An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs...">KviTheoraEncoder</a> object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>the output stream object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iWidth</em>&nbsp;</td><td>width of the stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iHeight</em>&nbsp;</td><td>height of the stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iFpsN</em>&nbsp;</td><td>frames per second: numerator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iFpsD</em>&nbsp;</td><td>frames per second: denominator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iParN</em>&nbsp;</td><td>aspect ratio: numerator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iParD</em>&nbsp;</td><td>aspect ratio: denominator </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classKviTheoraEncoder.html" title="An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs...">KviTheoraEncoder</a> </dd></dl>

<p>References <a class="el" href="kvi__databuffer_8cpp_source.html#l00130">KviDataBuffer::append()</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00117">frame_state</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00111">geometry</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00362">ilog()</a>, <a class="el" href="kvi__oggirct_8h_source.html#l00093">KviOggIrcText::irct_encode_headerout()</a>, <a class="el" href="kvi__oggirct_8h_source.html#l00074">KviOggIrcText::irct_encode_init()</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00112">m_pStream</a>, <a class="el" href="kvi__numeric_8h_source.html#l00383">NULL</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00127">og</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00128">op</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00132">tc</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00130">td</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00115">text_sofar</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00131">ti</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00126">to</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00135">videoflag</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00113">videoYuv</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00123">y4m_aux_buf_read_sz</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00122">y4m_aux_buf_sz</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00121">y4m_dst_buf_read_sz</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00120">y4m_dst_buf_sz</a>, and <a class="el" href="kvi__oggtheora_8h_source.html#l00125">zo</a>.</p>

</div>
</div>
<a class="anchor" id="ae4de3e3a70983788c2ea2c158a061c2f"></a><!-- doxytag: member="KviTheoraEncoder::~KviTheoraEncoder" ref="ae4de3e3a70983788c2ea2c158a061c2f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KviTheoraEncoder::~KviTheoraEncoder </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys the <a class="el" href="classKviTheoraEncoder.html" title="An ogg/theora+irct encoder class; accepts argb32 images and binary text, outputs...">KviTheoraEncoder</a> object. </p>

<p>References <a class="el" href="kvi__oggirct_8h_source.html#l00083">KviOggIrcText::irct_encode_clear()</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00132">tc</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00130">td</a>, and <a class="el" href="kvi__oggtheora_8h_source.html#l00126">to</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a56725c5aab24c94fa2a5abaf9fe91ea7"></a><!-- doxytag: member="KviTheoraEncoder::addTextFrame" ref="a56725c5aab24c94fa2a5abaf9fe91ea7" args="(unsigned char *textPkt, int textSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KviTheoraEncoder::addTextFrame </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>textPkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>textSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appends a text frame to the stream. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>textPkt</em>&nbsp;</td><td>buffer containing the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>textSize</em>&nbsp;</td><td>size of the text buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>References <a class="el" href="kvi__databuffer_8cpp_source.html#l00130">KviDataBuffer::append()</a>, <a class="el" href="kvi__oggirct_8h_source.html#l00122">KviOggIrcText::irct_encode_packetout()</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00112">m_pStream</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00128">op</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00115">text_sofar</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00134">textflag</a>, and <a class="el" href="kvi__oggtheora_8h_source.html#l00125">zo</a>.</p>

</div>
</div>
<a class="anchor" id="a6627b7d647addb450e62159ec9133f75"></a><!-- doxytag: member="KviTheoraEncoder::addVideoFrame" ref="a6627b7d647addb450e62159ec9133f75" args="(QRgb *rgb32, int videoSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KviTheoraEncoder::addVideoFrame </td>
          <td>(</td>
          <td class="paramtype">QRgb *&nbsp;</td>
          <td class="paramname"> <em>rgb32</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>videoSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appends a video frame to the stream. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rgb32</em>&nbsp;</td><td>video frame as a matrix of rgb32 pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>videoSize</em>&nbsp;</td><td>size of the video frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>References <a class="el" href="kvi__databuffer_8cpp_source.html#l00130">KviDataBuffer::append()</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00344">fetch_and_process_video()</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00111">geometry</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00112">m_pStream</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00053">rgb32toyuv444()</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00130">td</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00126">to</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00135">videoflag</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00113">videoYuv</a>, and <a class="el" href="kvi__oggtheora_8h_source.html#l00059">YUV444_BPP</a>.</p>

</div>
</div>
<a class="anchor" id="a65617ada89efd265415dc6345ecaa300"></a><!-- doxytag: member="KviTheoraEncoder::fetch_and_process_video" ref="a65617ada89efd265415dc6345ecaa300" args="(quint8 *videoYuv, ogg_page *videopage, ogg_stream_state *to, th_enc_ctx *td, int videoflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KviTheoraEncoder::fetch_and_process_video </td>
          <td>(</td>
          <td class="paramtype">quint8 *&nbsp;</td>
          <td class="paramname"> <em>videoYuv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ogg_page *&nbsp;</td>
          <td class="paramname"> <em>videopage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ogg_stream_state *&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">th_enc_ctx *&nbsp;</td>
          <td class="paramname"> <em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>videoflag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal function that processes a video frame to create an ogg page. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int </dd></dl>

<p>References <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8h_source.html#l00128">op</a>.</p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="a82d53fe942ae4651b5dad96dc584cebb"></a><!-- doxytag: member="KviTheoraEncoder::fetch_and_process_video_packet" ref="a82d53fe942ae4651b5dad96dc584cebb" args="(quint8 *videoYuv, th_enc_ctx *td, ogg_packet *op)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KviTheoraEncoder::fetch_and_process_video_packet </td>
          <td>(</td>
          <td class="paramtype">quint8 *&nbsp;</td>
          <td class="paramname"> <em>videoYuv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">th_enc_ctx *&nbsp;</td>
          <td class="paramname"> <em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ogg_packet *&nbsp;</td>
          <td class="paramname"> <em>op</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal function that processes a video frame to create an ogg packet. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int </dd></dl>

<p>References <a class="el" href="kvi__oggtheora_8h_source.html#l00117">frame_state</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00111">geometry</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00123">y4m_aux_buf_read_sz</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00122">y4m_aux_buf_sz</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00121">y4m_dst_buf_read_sz</a>, <a class="el" href="kvi__oggtheora_8h_source.html#l00120">y4m_dst_buf_sz</a>, and <a class="el" href="kvi__oggtheora_8h_source.html#l00118">yuvframe</a>.</p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00344">fetch_and_process_video()</a>.</p>

</div>
</div>
<a class="anchor" id="aa82587d75acf52359ebf4d5505c76917"></a><!-- doxytag: member="KviTheoraEncoder::ilog" ref="aa82587d75acf52359ebf4d5505c76917" args="(unsigned _v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KviTheoraEncoder::ilog </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>_v</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal function used to calculate our granule shift. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int </dd></dl>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3cbb1bed77ee30e11e506fd716ee835c"></a><!-- doxytag: member="KviTheoraEncoder::frame_state" ref="a3cbb1bed77ee30e11e506fd716ee835c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKviTheoraEncoder.html#a3cbb1bed77ee30e11e506fd716ee835c">KviTheoraEncoder::frame_state</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal flag used in video frame processing </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ccdab367ab5fe20a2f66b4f4c3e1aeb"></a><!-- doxytag: member="KviTheoraEncoder::geometry" ref="a8ccdab367ab5fe20a2f66b4f4c3e1aeb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKviTheoraGeometry.html">KviTheoraGeometry</a> <a class="el" href="classKviTheoraEncoder.html#a8ccdab367ab5fe20a2f66b4f4c3e1aeb">KviTheoraEncoder::geometry</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stream geometry definition </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a713d7629a99e252bcf905e8d498439"></a><!-- doxytag: member="KviTheoraEncoder::m_pStream" ref="a2a713d7629a99e252bcf905e8d498439" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKviDataBuffer.html">KviDataBuffer</a>* <a class="el" href="classKviTheoraEncoder.html#a2a713d7629a99e252bcf905e8d498439">KviTheoraEncoder::m_pStream</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stream pointer </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00258">addTextFrame()</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a8e670be376825d20aadefc08cc891e"></a><!-- doxytag: member="KviTheoraEncoder::og" ref="a4a8e670be376825d20aadefc08cc891e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_page <a class="el" href="classKviTheoraEncoder.html#a4a8e670be376825d20aadefc08cc891e">KviTheoraEncoder::og</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>One Ogg bitstream page. Vorbis packets are inside </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a7100b01d03e7bcef5655625dd37922c2"></a><!-- doxytag: member="KviTheoraEncoder::op" ref="a7100b01d03e7bcef5655625dd37922c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_packet <a class="el" href="classKviTheoraEncoder.html#a7100b01d03e7bcef5655625dd37922c2">KviTheoraEncoder::op</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>One raw packet of encoded data </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00258">addTextFrame()</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00344">fetch_and_process_video()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="aae42ac72960692c4fccd65ee9c777052"></a><!-- doxytag: member="KviTheoraEncoder::tc" ref="aae42ac72960692c4fccd65ee9c777052" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">th_comment <a class="el" href="classKviTheoraEncoder.html#aae42ac72960692c4fccd65ee9c777052">KviTheoraEncoder::tc</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Theora stream comments struct </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00214">~KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e9910bca977ab1a9c7bf9d759895875"></a><!-- doxytag: member="KviTheoraEncoder::td" ref="a6e9910bca977ab1a9c7bf9d759895875" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">th_enc_ctx* <a class="el" href="classKviTheoraEncoder.html#a6e9910bca977ab1a9c7bf9d759895875">KviTheoraEncoder::td</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Theora stream encoding struct </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00214">~KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d8156bf62c3bc3b654709b8a2654f45"></a><!-- doxytag: member="KviTheoraEncoder::text_sofar" ref="a7d8156bf62c3bc3b654709b8a2654f45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_int64_t <a class="el" href="classKviTheoraEncoder.html#a7d8156bf62c3bc3b654709b8a2654f45">KviTheoraEncoder::text_sofar</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of transmitted text frames </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00258">addTextFrame()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="ab43aaf32713b1d15da0a3cfea15a6712"></a><!-- doxytag: member="KviTheoraEncoder::textflag" ref="ab43aaf32713b1d15da0a3cfea15a6712" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKviTheoraEncoder.html#ab43aaf32713b1d15da0a3cfea15a6712">KviTheoraEncoder::textflag</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal flag used in text frame processing </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00258">addTextFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="a57a089097f96b5c61adef00e178ff567"></a><!-- doxytag: member="KviTheoraEncoder::ti" ref="a57a089097f96b5c61adef00e178ff567" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">th_info <a class="el" href="classKviTheoraEncoder.html#a57a089097f96b5c61adef00e178ff567">KviTheoraEncoder::ti</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Theora stream info struct </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="aabd9a0c1a96191d438c658a2fcfa35c3"></a><!-- doxytag: member="KviTheoraEncoder::to" ref="aabd9a0c1a96191d438c658a2fcfa35c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_stream_state <a class="el" href="classKviTheoraEncoder.html#aabd9a0c1a96191d438c658a2fcfa35c3">KviTheoraEncoder::to</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Take physical pages, weld into a logical stream of theora packets </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>, <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00214">~KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a0cfb3a54fadefc689060670bdfb4a5a0"></a><!-- doxytag: member="KviTheoraEncoder::videoflag" ref="a0cfb3a54fadefc689060670bdfb4a5a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKviTheoraEncoder.html#a0cfb3a54fadefc689060670bdfb4a5a0">KviTheoraEncoder::videoflag</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal flag used in video frame processing </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a75fd39af7de29e87c15707b0a1a41137"></a><!-- doxytag: member="KviTheoraEncoder::videoYuv" ref="a75fd39af7de29e87c15707b0a1a41137" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">quint8* <a class="el" href="classKviTheoraEncoder.html#a75fd39af7de29e87c15707b0a1a41137">KviTheoraEncoder::videoYuv</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Yuv encoded surface pointer </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00227">addVideoFrame()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="af86d81c5c7650529062dae921233f34e"></a><!-- doxytag: member="KviTheoraEncoder::y4m_aux_buf_read_sz" ref="af86d81c5c7650529062dae921233f34e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classKviTheoraEncoder.html#af86d81c5c7650529062dae921233f34e">KviTheoraEncoder::y4m_aux_buf_read_sz</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The amount to read into the auxilliary buffer </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b34fe3e4315e8ef8c11e352435461d5"></a><!-- doxytag: member="KviTheoraEncoder::y4m_aux_buf_sz" ref="a6b34fe3e4315e8ef8c11e352435461d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classKviTheoraEncoder.html#a6b34fe3e4315e8ef8c11e352435461d5">KviTheoraEncoder::y4m_aux_buf_sz</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The size of the auxilliary buffer </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a2603755ae1d1eaa0f4b5da0d8624f3a9"></a><!-- doxytag: member="KviTheoraEncoder::y4m_dst_buf_read_sz" ref="a2603755ae1d1eaa0f4b5da0d8624f3a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classKviTheoraEncoder.html#a2603755ae1d1eaa0f4b5da0d8624f3a9">KviTheoraEncoder::y4m_dst_buf_read_sz</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The amount to read directly into the converted frame buffer </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="a9c4931c305f2c8b15e3bc5bf3489ee05"></a><!-- doxytag: member="KviTheoraEncoder::y4m_dst_buf_sz" ref="a9c4931c305f2c8b15e3bc5bf3489ee05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classKviTheoraEncoder.html#a9c4931c305f2c8b15e3bc5bf3489ee05">KviTheoraEncoder::y4m_dst_buf_sz</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The size of each converted frame buffer </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5c8a6b626c3e2ad78f64e80c44a8ee9"></a><!-- doxytag: member="KviTheoraEncoder::yuvframe" ref="ac5c8a6b626c3e2ad78f64e80c44a8ee9" args="[3]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* <a class="el" href="classKviTheoraEncoder.html#ac5c8a6b626c3e2ad78f64e80c44a8ee9">KviTheoraEncoder::yuvframe</a>[3]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Internal struct used in video frame processing </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00278">fetch_and_process_video_packet()</a>.</p>

</div>
</div>
<a class="anchor" id="a6be43b1cf5387b38dc42595e43af4957"></a><!-- doxytag: member="KviTheoraEncoder::zo" ref="a6be43b1cf5387b38dc42595e43af4957" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ogg_stream_state <a class="el" href="classKviTheoraEncoder.html#a6be43b1cf5387b38dc42595e43af4957">KviTheoraEncoder::zo</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Take physical pages, weld into a logical stream of irct packets </p>

<p>Referenced by <a class="el" href="kvi__oggtheora_8cpp_source.html#l00258">addTextFrame()</a>, and <a class="el" href="kvi__oggtheora_8cpp_source.html#l00067">KviTheoraEncoder()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/kvilib/ext/<a class="el" href="kvi__oggtheora_8h_source.html">kvi_oggtheora.h</a></li>
<li>src/kvilib/ext/<a class="el" href="kvi__oggtheora_8cpp.html">kvi_oggtheora.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu May 20 00:32:36 2010 for KVIrc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
