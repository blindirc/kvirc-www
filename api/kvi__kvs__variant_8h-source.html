<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>KVIrc: src/kvirc/kvs/kvi_kvs_variant.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>src/kvirc/kvs/kvi_kvs_variant.h</h1><a href="kvi__kvs__variant_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _KVI_KVS_VARIANT_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _KVI_KVS_VARIANT_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">//=============================================================================</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//   File : kvi_kvs_variant.h</span>
<a name="l00006"></a>00006 <span class="comment">//   Creation date : Tue 07 Oct 2003 04:01:19 by Szymon Stefanek</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">//   This file is part of the KVIrc IRC client distribution</span>
<a name="l00009"></a>00009 <span class="comment">//   Copyright (C) 2003-2008 Szymon Stefanek &lt;pragma at kvirc dot net&gt;</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">//   This program is FREE software. You can redistribute it and/or</span>
<a name="l00012"></a>00012 <span class="comment">//   modify it under the terms of the GNU General Public License</span>
<a name="l00013"></a>00013 <span class="comment">//   as published by the Free Software Foundation; either version 2</span>
<a name="l00014"></a>00014 <span class="comment">//   of the License, or (at your opinion) any later version.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">//   This program is distributed in the HOPE that it will be USEFUL,</span>
<a name="l00017"></a>00017 <span class="comment">//   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00018"></a>00018 <span class="comment">//   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
<a name="l00019"></a>00019 <span class="comment">//   See the GNU General Public License for more details.</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 <span class="comment">//   You should have received a copy of the GNU General Public License</span>
<a name="l00022"></a>00022 <span class="comment">//   along with this program. If not, write to the Free Software Foundation,</span>
<a name="l00023"></a>00023 <span class="comment">//   Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00024"></a>00024 <span class="comment">//</span>
<a name="l00025"></a>00025 <span class="comment">//=============================================================================</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="kvi__settings_8h.html" title="This file contains compile time settings.">kvi_settings.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="kvi__qstring_8h.html" title="Helper functions for the QString class.">kvi_qstring.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="code" href="kvi__heapobject_8h.html" title="Heap Object.">kvi_heapobject.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="kvi__kvs__types_8h.html">kvi_kvs_types.h</a>"</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">class </span><a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>;
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="classKviKvsArrayCast.html">KviKvsArrayCast</a>;
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="classKviKvsNumber.html">00036</a> <span class="keyword">class </span><a class="code" href="kvi__settings_8h.html#2b6e93c2a661b8c9970bddbac4e7bd2c">KVIRC_API</a> <a class="code" href="classKviKvsNumber.html">KviKvsNumber</a>
<a name="l00037"></a>00037 {
<a name="l00038"></a><a class="code" href="classKviKvsNumber.html#defff840b784b33dc1515b91ca0e1c4a">00038</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>;
<a name="l00039"></a>00039 <span class="keyword">public</span>:
<a name="l00040"></a><a class="code" href="classKviKvsNumber.html#01784fd11a20c1ae1beb932c258976e492fc117d24132844bb5bbcd4f7c140f8">00040</a>         <span class="keyword">enum</span> <a class="code" href="classKviKvsNumber.html#01784fd11a20c1ae1beb932c258976e4">DataType</a> { Real, Integer };
<a name="l00041"></a>00041 <span class="keyword">protected</span>:
<a name="l00042"></a>00042         <span class="keyword">union </span>{
<a name="l00043"></a><a class="code" href="classKviKvsNumber.html#2dd9fc240af08fe854a84b724368a5cd">00043</a>                 <a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a>     iInteger;
<a name="l00044"></a><a class="code" href="classKviKvsNumber.html#ab9381bc794d0e85d7903ea93c269a73">00044</a>                 <a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a>    dReal;
<a name="l00045"></a>00045         } m_u;
<a name="l00046"></a><a class="code" href="classKviKvsNumber.html#94ca4d864361bbe9448101aeb5b548c8">00046</a>         <a class="code" href="classKviKvsNumber.html#01784fd11a20c1ae1beb932c258976e4">DataType</a> m_type;
<a name="l00047"></a>00047 <span class="keyword">public</span>:
<a name="l00048"></a><a class="code" href="classKviKvsNumber.html#d3e6ead2ded2d225eba7298e4736a322">00048</a>         <a class="code" href="classKviKvsNumber.html#01784fd11a20c1ae1beb932c258976e4">DataType</a> <a class="code" href="classKviKvsNumber.html#d3e6ead2ded2d225eba7298e4736a322">type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_type; };
<a name="l00049"></a><a class="code" href="classKviKvsNumber.html#70751e79b4b36cfdd38305e344fbb49a">00049</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsNumber.html#70751e79b4b36cfdd38305e344fbb49a">isReal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_type == Real; };
<a name="l00050"></a><a class="code" href="classKviKvsNumber.html#e0f7a371fbb08873dff64d944cb4ff3d">00050</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsNumber.html#e0f7a371fbb08873dff64d944cb4ff3d">isInteger</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_type == Integer; };
<a name="l00051"></a><a class="code" href="classKviKvsNumber.html#c72df7bdddb5d9019c2b98acfefc6ce8">00051</a>         <a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> <a class="code" href="classKviKvsNumber.html#c72df7bdddb5d9019c2b98acfefc6ce8">real</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_u.dReal; };
<a name="l00052"></a><a class="code" href="classKviKvsNumber.html#c255e84b5e974f876485248b0bfeb16c">00052</a>         <a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a> <a class="code" href="classKviKvsNumber.html#c255e84b5e974f876485248b0bfeb16c">integer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_u.iInteger; };
<a name="l00053"></a>00053 };
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="comment">// pre-declare.. the real declarations are included below</span>
<a name="l00056"></a>00056 <span class="keyword">class </span><a class="code" href="classKviKvsHash.html">KviKvsHash</a>;
<a name="l00057"></a>00057 <span class="keyword">class </span><a class="code" href="classKviKvsArray.html">KviKvsArray</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="classKviKvsVariantData.html">00059</a> <span class="keyword">class </span><a class="code" href="classKviKvsVariantData.html">KviKvsVariantData</a>
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061 <span class="keyword">public</span>:
<a name="l00062"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb">00062</a>         <span class="keyword">enum</span> <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb">Type</a> {
<a name="l00063"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeebb834970df851a5bc46391aa9e7f59bd6">00063</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeebb834970df851a5bc46391aa9e7f59bd6">Nothing</a> = 0,  <span class="comment">// m_pData not initialized</span>
<a name="l00064"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb349210a8797dba689be56e85c7e0ca54">00064</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb349210a8797dba689be56e85c7e0ca54">String</a>  = 1,  <span class="comment">// QString          (scalar)</span>
<a name="l00065"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb31e2438acdeb72e091fc433596f01a80">00065</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb31e2438acdeb72e091fc433596f01a80">Integer</a> = 2,  <span class="comment">// long int         (scalar)</span>
<a name="l00066"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb7be04a50cf53d0dabc7bc702729d1410">00066</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb7be04a50cf53d0dabc7bc702729d1410">Real</a>    = 4,  <span class="comment">// double           (scalar)</span>
<a name="l00067"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb0d8324121ebcea708d92a5a32019f8d6">00067</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb0d8324121ebcea708d92a5a32019f8d6">Array</a>   = 8,  <span class="comment">// KviKvsArray</span>
<a name="l00068"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeebc1b4e95b480321dbfa26472549374057">00068</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeebc1b4e95b480321dbfa26472549374057">Hash</a>    = 16, <span class="comment">// KviKvsHash</span>
<a name="l00069"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb47832f05bf741cdc23063f9c1c4c5af2">00069</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb47832f05bf741cdc23063f9c1c4c5af2">Boolean</a> = 32, <span class="comment">// bool             (scalar)</span>
<a name="l00070"></a><a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb6b50992edc99a8cdd07b81d1507c5fc9">00070</a>                 <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb6b50992edc99a8cdd07b81d1507c5fc9">HObject</a> = 64  <span class="comment">// object, shallow! (scalar)</span>
<a name="l00071"></a>00071         };
<a name="l00072"></a>00072 <span class="keyword">public</span>:
<a name="l00073"></a><a class="code" href="classKviKvsVariantData.html#2b54cb57361e5eb500d22df3105566db">00073</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classKviKvsVariantData.html#2b54cb57361e5eb500d22df3105566db">m_uRefs</a>;
<a name="l00074"></a><a class="code" href="classKviKvsVariantData.html#cfef8faa97bb431260b2a523b4131a41">00074</a>         <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb">Type</a> <a class="code" href="classKviKvsVariantData.html#cfef8faa97bb431260b2a523b4131a41">m_eType</a>;
<a name="l00075"></a>00075         <span class="keyword">union </span>{
<a name="l00076"></a><a class="code" href="classKviKvsVariantData.html#83c62780fce4d3ea9e11e0d9bd70c42f">00076</a>                 <a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a>       <a class="code" href="classKviKvsVariantData.html#83c62780fce4d3ea9e11e0d9bd70c42f">iInteger</a>;
<a name="l00077"></a><a class="code" href="classKviKvsVariantData.html#02935ff6014e7787698b118e5e5b6a40">00077</a>                 <a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a>    * <a class="code" href="classKviKvsVariantData.html#02935ff6014e7787698b118e5e5b6a40">pReal</a>;
<a name="l00078"></a><a class="code" href="classKviKvsVariantData.html#d2c7ad153bd37d7a15b0e341991534d6">00078</a>                 QString       * <a class="code" href="classKviKvsVariantData.html#d2c7ad153bd37d7a15b0e341991534d6">pString</a>;
<a name="l00079"></a><a class="code" href="classKviKvsVariantData.html#c0e4e7d99c29e77ddb5b9ad439e4ae78">00079</a>                 <a class="code" href="classKviKvsArray.html">KviKvsArray</a>   * <a class="code" href="classKviKvsVariantData.html#c0e4e7d99c29e77ddb5b9ad439e4ae78">pArray</a>;
<a name="l00080"></a><a class="code" href="classKviKvsVariantData.html#d957388cbd6128ee79ba02bc8943dc0f">00080</a>                 <a class="code" href="classKviKvsHash.html">KviKvsHash</a>    * <a class="code" href="classKviKvsVariantData.html#d957388cbd6128ee79ba02bc8943dc0f">pHash</a>;
<a name="l00081"></a><a class="code" href="classKviKvsVariantData.html#27773be81ee14fc6e471086ebd756554">00081</a>                 <span class="keywordtype">bool</span>            <a class="code" href="classKviKvsVariantData.html#27773be81ee14fc6e471086ebd756554">bBoolean</a>;
<a name="l00082"></a><a class="code" href="classKviKvsVariantData.html#455f9ee3656d9c48878ab29ed6eea1e8">00082</a>                 <a class="code" href="kvi__kvs__types_8h.html#0ba12a272e54e891666f4c117c8e14ed">kvs_hobject_t</a>   <a class="code" href="classKviKvsVariantData.html#455f9ee3656d9c48878ab29ed6eea1e8">hObject</a>;
<a name="l00083"></a>00083         } <a class="code" href="classKviKvsVariantData.html#4c262de83ff874b2a47968e33d15c57f">m_u</a>;
<a name="l00084"></a>00084 };
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 <span class="comment">// This class must not have virtual funcitons nor destructor</span>
<a name="l00087"></a>00087 <span class="comment">// Otherwise it will happily crash on windows when it is</span>
<a name="l00088"></a>00088 <span class="comment">// allocated in modules and destroyed anywhere else around...</span>
<a name="l00089"></a><a class="code" href="classKviKvsVariant.html">00089</a> <span class="keyword">class </span><a class="code" href="kvi__settings_8h.html#2b6e93c2a661b8c9970bddbac4e7bd2c">KVIRC_API</a> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> : <span class="keyword">public</span> <a class="code" href="classKviHeapObject.html">KviHeapObject</a>
<a name="l00090"></a>00090 {
<a name="l00091"></a><a class="code" href="classKviKvsVariant.html#00ada8fc8bf8d931a6c4b7fd4bb39615">00091</a>         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classKviKvsVariantComparison.html">KviKvsVariantComparison</a>;
<a name="l00092"></a>00092 <span class="keyword">public</span>:
<a name="l00093"></a>00093         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>();
<a name="l00094"></a>00094         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a> iInteger);
<a name="l00095"></a>00095         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> dReal);
<a name="l00096"></a>00096         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> * pReal);
<a name="l00097"></a>00097         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<span class="keywordtype">bool</span> bBoolean);
<a name="l00098"></a>00098         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<span class="keyword">const</span> QString &amp;szString);
<a name="l00099"></a>00099         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * szString); <span class="comment">// without this gcc chooses the conversion (const char *)-&gt;(void *) instead of (const char *)-&gt;(QString) and obviously calls the wrong constructor</span>
<a name="l00100"></a>00100         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(QString * pString);
<a name="l00101"></a>00101         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<a class="code" href="classKviKvsArray.html">KviKvsArray</a> * pArray);
<a name="l00102"></a>00102         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<a class="code" href="classKviKvsHash.html">KviKvsHash</a> * pHash);
<a name="l00103"></a>00103         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<a class="code" href="kvi__kvs__types_8h.html#0ba12a272e54e891666f4c117c8e14ed">kvs_hobject_t</a> hObject);
<a name="l00104"></a>00104         <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>(<span class="keyword">const</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> &amp;v);
<a name="l00105"></a>00105         ~<a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>();
<a name="l00106"></a>00106 <span class="keyword">protected</span>:
<a name="l00107"></a><a class="code" href="classKviKvsVariant.html#31c31f4eb84c24a980a74d0ae192b9b7">00107</a>         <a class="code" href="classKviKvsVariantData.html">KviKvsVariantData</a> * m_pData;
<a name="l00108"></a>00108 <span class="keyword">public</span>:
<a name="l00109"></a><a class="code" href="classKviKvsVariant.html#e5da352525ea524daea4c9527dc593f3">00109</a>         <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb">KviKvsVariantData::Type</a> <a class="code" href="classKviKvsVariant.html#e5da352525ea524daea4c9527dc593f3">type</a>(){ <span class="keywordflow">return</span> m_pData ? m_pData-&gt;m_eType : <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeebb834970df851a5bc46391aa9e7f59bd6">KviKvsVariantData::Nothing</a>; };
<a name="l00110"></a>00110 
<a name="l00111"></a>00111         <span class="keywordtype">void</span> setReal(<a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> dReal);
<a name="l00112"></a>00112         <span class="keywordtype">void</span> setReal(<a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> * pReal);
<a name="l00113"></a>00113         <span class="keywordtype">void</span> setInteger(<a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a> iInteger);
<a name="l00114"></a>00114         <span class="keywordtype">void</span> setString(<span class="keyword">const</span> QString &amp;szString);
<a name="l00115"></a>00115         <span class="keywordtype">void</span> setString(QString * pString);
<a name="l00116"></a>00116         <span class="keywordtype">void</span> setArray(<a class="code" href="classKviKvsArray.html">KviKvsArray</a> * pArray);
<a name="l00117"></a>00117         <span class="keywordtype">void</span> setHash(<a class="code" href="classKviKvsHash.html">KviKvsHash</a> * pHash);
<a name="l00118"></a>00118         <span class="keywordtype">void</span> setBoolean(<span class="keywordtype">bool</span> bBoolean);
<a name="l00119"></a>00119         <span class="keywordtype">void</span> setHObject(<a class="code" href="kvi__kvs__types_8h.html#0ba12a272e54e891666f4c117c8e14ed">kvs_hobject_t</a> hObject);
<a name="l00120"></a>00120         <span class="keywordtype">void</span> setNothing();
<a name="l00121"></a>00121         <span class="comment">//void unset(){ setNothing(); };</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <span class="keywordtype">void</span> getTypeName(QString &amp;szBuffer) <span class="keyword">const</span>;
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="classKviKvsVariant.html#3b1c4af578417d6c872481aa42da1554">00125</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#3b1c4af578417d6c872481aa42da1554">isNothing</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !m_pData; };
<a name="l00126"></a><a class="code" href="classKviKvsVariant.html#577f5ebc985a6ee2aa7cc41a2ce932fa">00126</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#577f5ebc985a6ee2aa7cc41a2ce932fa">isInteger</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb31e2438acdeb72e091fc433596f01a80">KviKvsVariantData::Integer</a>) : <span class="keyword">false</span>; };
<a name="l00127"></a><a class="code" href="classKviKvsVariant.html#99a1425d1f9f49e824aa78d6795597e2">00127</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#99a1425d1f9f49e824aa78d6795597e2">isReal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb7be04a50cf53d0dabc7bc702729d1410">KviKvsVariantData::Real</a>) : <span class="keyword">false</span>; };
<a name="l00128"></a><a class="code" href="classKviKvsVariant.html#60954eb6f93ba52d08b1d0e5c72b0d44">00128</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#60954eb6f93ba52d08b1d0e5c72b0d44">isNumeric</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType &amp; (<a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb31e2438acdeb72e091fc433596f01a80">KviKvsVariantData::Integer</a> | <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb7be04a50cf53d0dabc7bc702729d1410">KviKvsVariantData::Real</a>)) : <span class="keyword">false</span>; };
<a name="l00129"></a><a class="code" href="classKviKvsVariant.html#eaca23ebc9160ad1ccf7ba4b4fb497da">00129</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#eaca23ebc9160ad1ccf7ba4b4fb497da">isString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb349210a8797dba689be56e85c7e0ca54">KviKvsVariantData::String</a>) : <span class="keyword">false</span>; };
<a name="l00130"></a><a class="code" href="classKviKvsVariant.html#e338ed437f55c5a0c619fd8da902171b">00130</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#e338ed437f55c5a0c619fd8da902171b">isScalar</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType &amp; (<a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb349210a8797dba689be56e85c7e0ca54">KviKvsVariantData::String</a> | <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb31e2438acdeb72e091fc433596f01a80">KviKvsVariantData::Integer</a> | <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb7be04a50cf53d0dabc7bc702729d1410">KviKvsVariantData::Real</a>)) : <span class="keyword">false</span>; };
<a name="l00131"></a><a class="code" href="classKviKvsVariant.html#d7116f42f5166f08091f848359fcef61">00131</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#d7116f42f5166f08091f848359fcef61">isArray</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb0d8324121ebcea708d92a5a32019f8d6">KviKvsVariantData::Array</a>) : <span class="keyword">false</span>; };
<a name="l00132"></a><a class="code" href="classKviKvsVariant.html#e02f27cc59d4998bcc787e9e8623aa55">00132</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#e02f27cc59d4998bcc787e9e8623aa55">isHash</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeebc1b4e95b480321dbfa26472549374057">KviKvsVariantData::Hash</a>) : <span class="keyword">false</span>; };
<a name="l00133"></a><a class="code" href="classKviKvsVariant.html#2a132998f4ee86bb237c9174d3d88b7a">00133</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#2a132998f4ee86bb237c9174d3d88b7a">isBoolean</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb47832f05bf741cdc23063f9c1c4c5af2">KviKvsVariantData::Boolean</a>) : <span class="keyword">false</span>; };
<a name="l00134"></a><a class="code" href="classKviKvsVariant.html#dfbacecc7a7b951459013f2ff702055b">00134</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#dfbacecc7a7b951459013f2ff702055b">isHObject</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? (m_pData-&gt;m_eType == <a class="code" href="classKviKvsVariantData.html#a4435b67fa796358061b8b119b75aeeb6b50992edc99a8cdd07b81d1507c5fc9">KviKvsVariantData::HObject</a>) : <span class="keyword">false</span>; };
<a name="l00135"></a>00135 
<a name="l00136"></a>00136         <span class="keywordtype">bool</span> isEmpty() <span class="keyword">const</span>;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <span class="comment">// returns true if this variant is nothing, false, null, 0 or an empty string</span>
<a name="l00139"></a>00139         <span class="keywordtype">bool</span> isEqualToNothing() <span class="keyword">const</span>;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         <span class="comment">// evaluates Integer, Real and String rappresenting an Integer</span>
<a name="l00142"></a>00142         <span class="keywordtype">bool</span> asInteger(<a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a> &amp;iVal) <span class="keyword">const</span>;
<a name="l00143"></a>00143         <span class="comment">// evaluates Real, Integer and String rappresenting a Real</span>
<a name="l00144"></a>00144         <span class="keywordtype">bool</span> asReal(<a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> &amp;dVal) <span class="keyword">const</span>;
<a name="l00145"></a>00145         <span class="comment">// evaluates Real, Integer and String rappresenting a Real or integer</span>
<a name="l00146"></a>00146         <span class="keywordtype">bool</span> asNumber(<a class="code" href="classKviKvsNumber.html">KviKvsNumber</a> &amp;n) <span class="keyword">const</span>;
<a name="l00147"></a>00147         <span class="comment">// always evaluates to a boolean value</span>
<a name="l00148"></a>00148         <span class="keywordtype">bool</span> asBoolean() <span class="keyword">const</span>;
<a name="l00149"></a>00149         <span class="comment">// evaluates to an object handle</span>
<a name="l00150"></a>00150         <span class="keywordtype">bool</span> asHObject(<a class="code" href="kvi__kvs__types_8h.html#0ba12a272e54e891666f4c117c8e14ed">kvs_hobject_t</a> &amp;hObject) <span class="keyword">const</span>;
<a name="l00151"></a>00151         <span class="comment">// evaluates anything to a string</span>
<a name="l00152"></a>00152         <span class="keywordtype">void</span> asString(QString &amp;szBuffer) <span class="keyword">const</span>;
<a name="l00153"></a>00153         <span class="keywordtype">void</span> appendAsString(QString &amp;szBuffer) <span class="keyword">const</span>;
<a name="l00154"></a>00154 
<a name="l00155"></a>00155         <span class="comment">// always evaluates to some number...</span>
<a name="l00156"></a>00156         <span class="keywordtype">void</span> castToNumber(<a class="code" href="classKviKvsNumber.html">KviKvsNumber</a> &amp;n) <span class="keyword">const</span>;
<a name="l00157"></a>00157         <span class="comment">// always evaluates to an integer</span>
<a name="l00158"></a>00158         <span class="keywordtype">void</span> castToInteger(<a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a> &amp;iVal) <span class="keyword">const</span>;
<a name="l00159"></a>00159         <span class="comment">// always evaluates to an array</span>
<a name="l00160"></a>00160         <span class="keywordtype">void</span> castToArray(<a class="code" href="classKviKvsArrayCast.html">KviKvsArrayCast</a> *<a class="code" href="kvi__numeric_8h.html#fcc1b6144d7f6a9e27acc4aebef7774c">c</a>) <span class="keyword">const</span>;
<a name="l00161"></a>00161         <span class="comment">// converts this variant to an array</span>
<a name="l00162"></a>00162         <span class="keywordtype">void</span> convertToArray();
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="classKviKvsVariant.html#9c31194225ccd9a6d714d3f5356b84bd">00164</a>         <a class="code" href="kvi__kvs__types_8h.html#c9044d831e7a8b855ec6563e745cec21">kvs_int_t</a> <a class="code" href="classKviKvsVariant.html#9c31194225ccd9a6d714d3f5356b84bd">integer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? m_pData-&gt;m_u.iInteger : 0; };
<a name="l00165"></a><a class="code" href="classKviKvsVariant.html#479a3377a19188c811831258c7ce8c75">00165</a>         <a class="code" href="kvi__kvs__types_8h.html#c0c941372331edcdc89698f6f68c866c">kvs_real_t</a> <a class="code" href="classKviKvsVariant.html#479a3377a19188c811831258c7ce8c75">real</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? *(m_pData-&gt;m_u.pReal) : 0.0; };
<a name="l00166"></a><a class="code" href="classKviKvsVariant.html#0daeee44052e1fbe02690e1f719a01ac">00166</a>         <span class="keyword">const</span> QString &amp; <a class="code" href="classKviKvsVariant.html#0daeee44052e1fbe02690e1f719a01ac">string</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? *(m_pData-&gt;m_u.pString) : <a class="code" href="namespaceKviQString.html#a14b9dc45e5d3b528f26e523d7c96b3e" title="A global empty string (note that this is ALSO NULL under Qt 3.x).">KviQString::Empty</a>; };
<a name="l00167"></a><a class="code" href="classKviKvsVariant.html#824cb7b64ccc299c41e0326101f7afe4">00167</a>         <a class="code" href="classKviKvsArray.html">KviKvsArray</a> * <a class="code" href="classKviKvsVariant.html#824cb7b64ccc299c41e0326101f7afe4">array</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? m_pData-&gt;m_u.pArray : 0; };
<a name="l00168"></a><a class="code" href="classKviKvsVariant.html#6369b8e3f8bdb0f35028eb80a668e8cb">00168</a>         <a class="code" href="classKviKvsHash.html">KviKvsHash</a> * <a class="code" href="classKviKvsVariant.html#6369b8e3f8bdb0f35028eb80a668e8cb">hash</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? m_pData-&gt;m_u.pHash : 0; };
<a name="l00169"></a><a class="code" href="classKviKvsVariant.html#371bdf53d7b445d327bbe4de627f824e">00169</a>         <span class="keywordtype">bool</span> <a class="code" href="classKviKvsVariant.html#371bdf53d7b445d327bbe4de627f824e">boolean</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? m_pData-&gt;m_u.bBoolean : <span class="keyword">false</span>; };
<a name="l00170"></a><a class="code" href="classKviKvsVariant.html#d67db21cbd928be9c3e56fbe70133969">00170</a>         <a class="code" href="kvi__kvs__types_8h.html#0ba12a272e54e891666f4c117c8e14ed">kvs_hobject_t</a> <a class="code" href="classKviKvsVariant.html#d67db21cbd928be9c3e56fbe70133969">hobject</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pData ? m_pData-&gt;m_u.hObject : (<a class="code" href="kvi__kvs__types_8h.html#0ba12a272e54e891666f4c117c8e14ed">kvs_hobject_t</a>)0; };
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         <span class="keywordtype">void</span> copyFrom(<span class="keyword">const</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> * v);
<a name="l00173"></a>00173         <span class="keywordtype">void</span> copyFrom(<span class="keyword">const</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> &amp; v);
<a name="l00174"></a>00174         <span class="keywordtype">void</span> takeFrom(<a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> * v);
<a name="l00175"></a>00175         <span class="keywordtype">void</span> takeFrom(<a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> &amp;v);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177         <span class="keywordtype">void</span> dump(<span class="keyword">const</span> <span class="keywordtype">char</span> * prefix) <span class="keyword">const</span>;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         <span class="comment">// returns -1 if this variant is greater than the other, 0 if are equal, 1 if the other is greater</span>
<a name="l00180"></a>00180         <span class="comment">// if bPreferNumeric is true then when comparing strings a conversion to a numeric format</span>
<a name="l00181"></a>00181         <span class="comment">// is first attempted.</span>
<a name="l00182"></a>00182         <span class="keywordtype">int</span> compare(<span class="keyword">const</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> * pOther,<span class="keywordtype">bool</span> bPreferNumeric = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00183"></a>00183 
<a name="l00184"></a><a class="code" href="classKviKvsVariant.html#11d9f69191a8de7a2bf3ea1f5b9e407c">00184</a>         <span class="keywordtype">void</span> operator = (<span class="keyword">const</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a> &amp;v){ copyFrom(v); };
<a name="l00185"></a>00185 
<a name="l00186"></a>00186         <span class="comment">//JSON serialization</span>
<a name="l00187"></a>00187         <span class="keywordtype">void</span> serialize(QString&amp; result);
<a name="l00188"></a>00188         <span class="keyword">static</span> <span class="keywordtype">void</span> serializeString(QString&amp; buffer);
<a name="l00189"></a>00189         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserialize(<span class="keyword">const</span> QString&amp; buffer);
<a name="l00190"></a>00190 <span class="keyword">private</span>:
<a name="l00191"></a>00191         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserialize(<span class="keyword">const</span> QChar** aux);
<a name="l00192"></a>00192         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeTrue(<span class="keyword">const</span> QChar** aux);
<a name="l00193"></a>00193         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeFalse(<span class="keyword">const</span> QChar** aux);
<a name="l00194"></a>00194         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeNull(<span class="keyword">const</span> QChar** aux);
<a name="l00195"></a>00195         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeArray(<span class="keyword">const</span> QChar** aux);
<a name="l00196"></a>00196         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeHash(<span class="keyword">const</span> QChar** aux);
<a name="l00197"></a>00197         <span class="keyword">static</span> <span class="keywordtype">void</span> unserializeString(<span class="keyword">const</span> QChar** aux,QString&amp; buffer);
<a name="l00198"></a>00198         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeString(<span class="keyword">const</span> QChar** aux);
<a name="l00199"></a>00199         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeRealOrInteger(<span class="keyword">const</span> QChar** aux);
<a name="l00200"></a>00200         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeReal(<span class="keyword">const</span> QChar** aux,QString&amp; data);
<a name="l00201"></a>00201         <span class="keyword">static</span> <a class="code" href="classKviKvsVariant.html">KviKvsVariant</a>* unserializeInteger(<span class="keyword">const</span> QChar** aux,QString&amp; data);
<a name="l00202"></a>00202 };
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="preprocessor">#include "<a class="code" href="kvi__kvs__array_8h.html">kvi_kvs_array.h</a>"</span>
<a name="l00205"></a>00205 <span class="preprocessor">#include "<a class="code" href="kvi__kvs__hash_8h.html">kvi_kvs_hash.h</a>"</span>
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="preprocessor">#endif </span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 10 00:39:48 2010 for KVIrc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
